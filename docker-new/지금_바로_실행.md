# ğŸš€ ì§€ê¸ˆ ë°”ë¡œ ë°°í¬ ì‹¤í–‰

ì••ì¶• íŒŒì¼ ì¤€ë¹„ ì™„ë£Œ: `/tmp/aiapp-deploy.tar.gz` (91MB)

---

## 1ï¸âƒ£ íŒŒì¼ ì „ì†¡ (ë¡œì»¬ í„°ë¯¸ë„)

```bash
scp /tmp/aiapp-deploy.tar.gz dksw@223.130.151.39:/tmp/
```

**ë¹„ë°€ë²ˆí˜¸ ì…ë ¥**: `dksw.123`

---

## 2ï¸âƒ£ ì„œë²„ ì ‘ì†

```bash
ssh dksw@223.130.151.39
```

**ë¹„ë°€ë²ˆí˜¸ ì…ë ¥**: `dksw.123`

---

## 3ï¸âƒ£ ì„œë²„ì—ì„œ ë°°í¬ ì‹¤í–‰ (ì „ì²´ ë³µì‚¬-ë¶™ì—¬ë„£ê¸°)

```bash
# ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p /home/dksw/aiapp && cd /home/dksw/aiapp

# ì••ì¶• í•´ì œ
tar -xzf /tmp/aiapp-deploy.tar.gz
rm /tmp/aiapp-deploy.tar.gz

# ë°ì´í„° ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p data/{mysql,redis,logs/{aiif,aipf}}

# Docker ì‹¤í–‰
cd docker
docker-compose up -d --build

# ìƒíƒœ í™•ì¸
echo ""
echo "=========================================="
echo "âœ… ë°°í¬ ì™„ë£Œ!"
echo "=========================================="
echo ""
docker-compose ps
```

---

## 4ï¸âƒ£ ë¡œê·¸ í™•ì¸

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ (ì„œë²„ì—ì„œ)
cd /home/dksw/aiapp/docker
docker-compose logs -f

# Ctrl+Cë¡œ ì¢…ë£Œ
```

---

## 5ï¸âƒ£ ì„œë¹„ìŠ¤ í™•ì¸ (ë¡œì»¬ì—ì„œ)

```bash
# Nginx í—¬ìŠ¤ì²´í¬
curl http://223.130.151.39/health

# AIIF (Nginx ê²½ìœ )
curl http://223.130.151.39/aiif/

# AIPF (Nginx ê²½ìœ )
curl http://223.130.151.39/api/
```

---

## ğŸŒ ì„œë¹„ìŠ¤ URL

ë°°í¬ ì™„ë£Œ í›„ (ëª¨ë“  ì ‘ê·¼ì€ Nginxë¥¼ í†µí•´ì„œë§Œ):

- **AIIF API**: http://223.130.151.39/aiif/
- **AIPF API**: http://223.130.151.39/api/
- **Nginx í—¬ìŠ¤**: http://223.130.151.39/health

---

## ğŸ”§ ìš´ì˜ ëª…ë ¹ì–´

### ì»¨í…Œì´ë„ˆ ê´€ë¦¬
```bash
cd /home/dksw/aiapp/docker

# ìƒíƒœ í™•ì¸
docker-compose ps

# ì¬ì‹œì‘
docker-compose restart

# ì¤‘ì§€
docker-compose stop

# ì‹œì‘
docker-compose start

# ì „ì²´ ì‚­ì œ (ë°ì´í„°ê¹Œì§€)
docker-compose down -v
```

### ë¡œê·¸ í™•ì¸
```bash
# ì „ì²´ ë¡œê·¸
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤
docker-compose logs -f aiif
docker-compose logs -f aipf
docker-compose logs -f mysql
docker-compose logs -f redis
```

### íŒŒì¼ ë¡œê·¸ í™•ì¸
```bash
cd /home/dksw/aiapp/data/logs

# AIIF
tail -f aiif/aiif.log
tail -f aiif/aiif-error.log

# AIPF
tail -f aipf/aipf.log
tail -f aipf/aipf-error.log
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### MySQL ì´ˆê¸°í™” ì‹¤íŒ¨ ì‹œ
```bash
cd /home/dksw/aiapp/docker
docker-compose down -v
rm -rf ../data/mysql/*
docker-compose up -d --build
```

### ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹¤íŒ¨ ì‹œ
```bash
# ë¡œê·¸ í™•ì¸
docker-compose logs aiif
docker-compose logs aipf

# ì„¤ì • í™•ì¸
cat /home/dksw/aiapp/config/env/aiif.env
cat /home/dksw/aiapp/config/app/aiif/application-prod.yml
```

### ì „ì²´ ì¬ë°°í¬
```bash
cd /home/dksw
rm -rf aiapp
# 1ë‹¨ê³„ë¶€í„° ë‹¤ì‹œ ì‹œì‘
```

---

## ğŸ’¡ ì´ êµ¬ì¡°ì˜ ì¥ì 

1. **ì„¤ì • ì™¸ë¶€í™”**: application.yml, log4j2.xml ëª¨ë‘ ì™¸ë¶€ ì£¼ì…
2. **ì¬ë¹Œë“œ ë¶ˆí•„ìš”**: ì„¤ì • ë³€ê²½ í›„ ì¬ì‹œì‘ë§Œ
3. **ë¡œê·¸ ì˜êµ¬ ë³´ê´€**: ì»¨í…Œì´ë„ˆ ì‚­ì œí•´ë„ ë¡œê·¸ ìœ ì§€
4. **í™˜ê²½ ì „í™˜**: config/envë§Œ ë°”ê¾¸ë©´ dev/prod ì „í™˜
5. **ìš´ì˜ ì•ˆì •ì„±**: ì„¤ì • ë¡¤ë°± ì¦‰ì‹œ ê°€ëŠ¥

---

**ì„œë²„**: 223.130.151.39
**ê³„ì •**: dksw / dksw.123
